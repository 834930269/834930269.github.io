{"name":"随笔","slug":"Maven/随笔","count":1,"postlist":[{"title":"Maven模块化","slug":"maven-modules","date":"2019-02-02T03:45:10.000Z","updated":"2019-07-03T13:51:36.864Z","comments":true,"path":"api/articles/maven-modules.json","excerpt":"","keywords":null,"cover":"http://be-sunshine.cn/wp-content/uploads/2019/02/maven%E6%A8%A1%E5%9D%97%E5%8C%96.png","content":"<p>我们在构建应用的时候,多数情况下都会使用模块化的方式来进行解耦. 而使用Maven进行模块化开发单体应用的方式如下: <img src=\"http://be-sunshine.cn/wp-content/uploads/2019/02/maven%E6%A8%A1%E5%9D%97%E5%8C%96.png\" alt></p>\n<blockquote>\n<p>即将不同的模块间互相解耦成不同的项目模块.后使用maven来互相依赖.</p>\n</blockquote>\n<p>按照上图的构造方式.每个pom.xml中编写互相依赖的代码.</p>\n<h1 id=\"名词解释\"><a href=\"#名词解释\" class=\"headerlink\" title=\"名词解释\"></a>名词解释</h1><h2 id=\"GroupId\"><a href=\"#GroupId\" class=\"headerlink\" title=\"GroupId\"></a>GroupId</h2><p>GroupID一般分为多个段，第一段为域，第二段为公司名称。域又分为org、com、cn等等许多，其中org为非营利组织，com为商业组织。举个apache公司的tomcat项目例子：这个项目的groupId是org.apache，它的域是org（因为tomcat是非营利项目），公司名称是apache，artigactId是tomcat。</p>\n<blockquote>\n<p>通俗点</p>\n</blockquote>\n<p>GroupID是项目组织唯一的标识符，实际对应Java的包的结构，是main目录里java的目录结构。</p>\n<h2 id=\"ArtifactID\"><a href=\"#ArtifactID\" class=\"headerlink\" title=\"ArtifactID\"></a>ArtifactID</h2><p>ArtifactID就是项目的唯一的标识符，实际对应项目的名称，就是项目根目录的名称。</p>\n<h2 id><a href=\"#\" class=\"headerlink\" title=\"\\\"></a>\\<parent></parent></h2><blockquote>\n<p>父项目 结构如下</p>\n</blockquote>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;com.funtl&lt;/groupId&gt; -- 组ID\n    &lt;artifactId&gt;my-shop&lt;/artifactId&gt;  -- 项目ID\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;  -- 版本\n    &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;  -- 相对位置\n&lt;/parent&gt;</code></pre><h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\\\"></a>\\<packaging></packaging></h2><blockquote>\n<p>一般模块间依赖就用pom pom是maven依赖文件 不用依赖的边缘模块就用jar jar是java普通项目打包 ? war是java web项目打包</p>\n</blockquote>\n<h2 id=\"-2\"><a href=\"#-2\" class=\"headerlink\" title=\"\\\"></a>\\<dependencymanagement></dependencymanagement></h2><blockquote>\n<p>管理依赖包,子模块仅需要添加依赖即可,不需要添加版本号</p>\n</blockquote>\n<p>总<br>=</p>\n<blockquote>\n<p>总项目下的pom.xml</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.funtl&lt;/groupId&gt;\n    &lt;artifactId&gt;my-shop&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;my-shop-dependencies&lt;/module&gt;\n        &lt;module&gt;my-shop-commons&lt;/module&gt;\n        &lt;module&gt;my-shop-domain&lt;/module&gt;\n        &lt;module&gt;my-shop-web-admin&lt;/module&gt;\n        &lt;module&gt;my-shop-web-ui&lt;/module&gt;\n        &lt;module&gt;my-shop-web-api&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/project&gt;</code></pre><h1 id=\"管理项目外依赖包\"><a href=\"#管理项目外依赖包\" class=\"headerlink\" title=\"管理项目外依赖包\"></a>管理项目外依赖包</h1><blockquote>\n<p>my-shop-dependencies pom.xml</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;com.funtl&lt;/groupId&gt;\n        &lt;artifactId&gt;my-shop&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;my-shop-dependencies&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;my-shop-dependencies&lt;/name&gt;\n    &lt;description&gt;&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;!-- 环境配置 --&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n\n        &lt;!-- 统一的依赖管理 --&gt;\n        &lt;alibaba-druid.version&gt;1.1.6&lt;/alibaba-druid.version&gt;\n        &lt;apache-httpclient.version&gt;4.5.5&lt;/apache-httpclient.version&gt;\n        &lt;commons-email.version&gt;1.5&lt;/commons-email.version&gt;\n        &lt;commons-fileupload.version&gt;1.3.2&lt;/commons-fileupload.version&gt;\n        &lt;commons-lang3.version&gt;3.5&lt;/commons-lang3.version&gt;\n        &lt;hibernate-validator.version&gt;5.3.4.Final&lt;/hibernate-validator.version&gt;\n        &lt;jackson.version&gt;2.9.5&lt;/jackson.version&gt;\n        &lt;jstl.version&gt;1.2&lt;/jstl.version&gt;\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n        &lt;kaptcha.version&gt;2.3&lt;/kaptcha.version&gt;\n        &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\n        &lt;lombok.version&gt;1.16.18&lt;/lombok.version&gt;\n        &lt;mybaits-spring.version&gt;1.3.1&lt;/mybaits-spring.version&gt;\n        &lt;mybatis.version&gt;3.2.8&lt;/mybatis.version&gt;\n        &lt;mysql.version&gt;5.1.46&lt;/mysql.version&gt;\n        &lt;servlet-api.version&gt;3.1.0&lt;/servlet-api.version&gt;\n        &lt;slf4j.version&gt;1.7.25&lt;/slf4j.version&gt;\n        &lt;spring.version&gt;4.3.17.RELEASE&lt;/spring.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Test Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Test Begin --&gt;\n\n            &lt;!-- Spring Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Spring End --&gt;\n\n            &lt;!-- Servlet Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;${servlet-api.version}&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n                &lt;version&gt;${jstl.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Servlet End --&gt;\n\n            &lt;!-- Log Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n                &lt;version&gt;${slf4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;version&gt;${log4j.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Log End --&gt;\n\n            &lt;!-- Commons Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n                &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n                &lt;version&gt;${commons-fileupload.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-email&lt;/artifactId&gt;\n                &lt;version&gt;${commons-email.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Commons End --&gt;\n\n            &lt;!-- Database Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n                &lt;artifactId&gt;druid&lt;/artifactId&gt;\n                &lt;version&gt;${alibaba-druid.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;version&gt;${mysql.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n                &lt;version&gt;${mybatis.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n                &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n                &lt;version&gt;${mybaits-spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n                &lt;version&gt;${hibernate-validator.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Database End --&gt;\n\n            &lt;!-- Json Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                &lt;version&gt;${jackson.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Json End --&gt;\n\n            &lt;!-- Apache Http Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n                &lt;version&gt;${apache-httpclient.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                &lt;artifactId&gt;fluent-hc&lt;/artifactId&gt;\n                &lt;version&gt;${apache-httpclient.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n                &lt;version&gt;${apache-httpclient.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Apache Http End --&gt;\n\n            &lt;!-- Google Code Begin --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.code.kaptcha&lt;/groupId&gt;\n                &lt;artifactId&gt;kaptcha&lt;/artifactId&gt;\n                &lt;version&gt;${kaptcha.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Google Code End --&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n\n        &lt;plugins&gt;\n            &lt;!-- Compiler 插件, 设定 JDK 版本 --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n        &lt;!-- 资源文件配置 --&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;</code></pre><blockquote>\n<p>Commons是通用包</p>\n</blockquote>\n<h1 id=\"项目内依赖\"><a href=\"#项目内依赖\" class=\"headerlink\" title=\"项目内依赖\"></a>项目内依赖</h1><blockquote>\n<p>除父级依赖外就是同级依赖</p>\n</blockquote>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.funtl&lt;/groupId&gt;\n        &lt;artifactId&gt;my-shop-commons&lt;/artifactId&gt;\n        &lt;version&gt;${project.parent.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;</code></pre>","text":"我们在构建应用的时候,多数情况下都会使用模块化的方式来进行解耦. 而使用Maven进行模块化开发单体应用的方式如下:  [Figure] =总项目下的pom.xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot","link":"","raw":null,"photos":[],"categories":[{"name":"Maven","slug":"Maven","count":2,"path":"api/categories/Maven.json"},{"name":"随笔","slug":"Maven/随笔","count":1,"path":"api/categories/Maven/随笔.json"}],"tags":[{"name":"Maven","slug":"Maven","count":2,"path":"api/tags/Maven.json"}]}]}