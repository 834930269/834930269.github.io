{"name":"第七届ACM山东省赛","slug":"Sdut/模拟/第七届ACM山东省赛","count":1,"postlist":[{"title":"第七届山东省ACM/ICPC H Memory Leak","slug":"qjsdaihacmicpc-h-memory-leak","date":"2017-04-18T12:25:42.000Z","updated":"2019-07-03T13:51:36.847Z","comments":true,"path":"api/articles/qjsdaihacmicpc-h-memory-leak.json","excerpt":"","keywords":null,"cover":null,"content":"<p><strong>【类型】</strong> <strong>模拟,感受一下什么叫绝望吧…</strong> <strong>【Tip】</strong> <strong>F</strong>k!…..QNMD鲁棒性….QAQ** <strong>后记…发现自己的代码可以过…但是忘了关freopean..所以才WA…尴尬//= // =//</strong> <strong>【Code】</strong> <strong>鲁棒形比我好,一点的,代码.</strong></p>\n<blockquote>\n<p><strong>#include&lt;bits/stdc++.h&gt;</strong> <strong>#define INF 0x3f3f3f3f</strong> <strong>using namespace std;</strong> <strong>int T;</strong> <strong>char name[10010],stri[10010];</strong> <strong>int num;</strong> <strong>struct Star{</strong> **    char s[2000];** **    char contain[10010];** **    int ind;** **    bool has_end;** <strong>};</strong> <strong>Star S[10010];</strong> <strong>int main(){</strong> ** //   #ifndef DEF** ** //    freopen(“in.txt”,”r”,stdin);** ** //    freopen(“out.txt”,”w”,stdout);** ** //  #endif // DEF** **    scanf(“%d”,&amp;T);** **        while(T–){** **            char op[100],def[10100];** **            num=0;** **            while(scanf(“%s”,op)){** **                if(op[3]==’u’){** **                    scanf(“%<em>s”);*</em> **                    break;** **                }** **                if(op[3]==’r’){** **                    while(scanf(“%s”,def)){** **                        int flag=1,star_num=0,ind_num=0,len=strlen(def);** **                        for(int i=0;i&lt;len;++i){** **                            if(flag==1 &amp;&amp; def[i]!=’[‘){** **                                S[num].s[star_num++]=def[i];** **                            }** **                            if(def[i]==’[‘){** **                                S[num].s[star_num]=0;** **                                flag=2;** **                                continue;** **                            }** **                            if(flag==2 &amp;&amp; def[i]!=’]‘){** **                                ind_num=ind_num<em>10+(def[i]-‘0’);*</em> **                            }** **                            if(def[i]==’]‘){** **                                S[num].contain[0]=0;//初始化** **                                S[num].has_end=true;** **                                S[num].ind=ind_num;** **                                star_num=0;** **                                ind_num=0;** **                                num++;** **                                continue;** **                            }** **                        }** **                        if(def[len-1]==’;’) break;** **                    }** **                }** **                if(op[3]==’s’){** **                    scanf(“%s%<em>c”,name);*</em> **                    gets(stri);** **                    int index=num;** **                    for(int i=0;i&lt;num;++i){** **                        if(!strcmp(S[i].s,name))** **                            index=i;** **                    }** **                    int len=strlen(stri);** **                    if(len&gt;=S[index].ind){** **                        S[index].has_end=false;** **                        stri[S[index].ind]=0;//‘\\0’** **                    }else S[index].has_end=true;** **                    strcpy(S[index].contain,stri);** **                }** **                if(op[3]==’t’){** **                    scanf(“%s”,name);** **                    int index=num;** **                    for(int i=0;i&lt;num;++i){** **                        if(!strcmp(S[i].s,name))** **                            index=i;** **                    }** **                    for(int i=index;i&lt;num;++i){** **                        printf(“%s”,S[i].contain);** **                        if(S[i].has_end) break;** **                    }** **                    printf(“\\n”);** **                }** **            }** **        }** **    return 0;** <strong>}</strong></p>\n</blockquote>\n<p><strong>我的代码</strong></p>\n<blockquote>\n<p><strong>#include&lt;bits/stdc++.h&gt;</strong> <strong>#define INF 0x3f3f3f3f</strong> <strong>using namespace std;</strong> <strong>int T;</strong> <strong>char name[10010],stri[10010];</strong> <strong>int num=0;</strong> <strong>struct Star{</strong> **    char s[2000];** **    char contain[10010];** **    int ind;** **    bool has_end;** <strong>};</strong> <strong>Star S[10010];</strong> <strong>int main(){</strong> <strong>//   #ifndef DEF  //&lt;-F</strong>k U** **  //   freopen(“in.txt”,”r”,stdin);** **  //   freopen(“out.txt”,”w”,stdout);** ** //  #endif // DEF** **    scanf(“%d”,&amp;T);** **        while(T–){** **            char op[10],def[10100];** **            num=0;** **            while(scanf(“%s”,op)){** **                scanf(“ “);** **                if(op[3]==’u’){** **                    scanf(“%<em>s”);*</em> **                    break;** **                }** **                if(op[3]==’r’){** **                    int flag=1,star_num=0,ind_num=0;** **                    gets(def);** **                    for(int i=0,start=0;def[i]!=’\\0’;++i){** **                        if(def[i]==’ ‘ || def[i]==’,’) continue;** **                        if(flag==1 &amp;&amp; def[i]!=’[‘){** **                            S[num].s[star_num++]=def[i];** **                        }else if(def[i]==’[‘){** **                            S[num].s[star_num]=0;** **                            flag=2;** **                        }else if(flag==2 &amp;&amp; def[i]!=’]‘){** **                            ind_num=ind_num<em>10+(def[i]-‘0’);*</em> **                        }else if(def[i]==’]‘){** **                            S[num].contain[0]=0;//初始化** **                            S[num].has_end=true;** **                            S[num].ind=ind_num;** **                            star_num=0;** **                            ind_num=0;** **                            num++;** **                            flag=1;** **                        }else if(def[i]==’;’)** **                            break;** **                    }** **                }** **                if(op[3]==’s’){** **                    scanf(“%s%<em>c”,name);*</em> **                    gets(stri);** **                    int index;** **                    for(int i=0;i&lt;num;++i){** **                        if(!strcmp(S[i].s,name))** **                            index=i;** **                    }** **                    int len=strlen(stri);** **                    if(len&gt;=S[index].ind){** **                        S[index].has_end=false;** **                        stri[S[index].ind]=0;//‘\\0’** **                    }else S[index].has_end=true;** **                    strcpy(S[index].contain,stri);** **                }** **                if(op[3]==’t’){** **                    scanf(“ “);** **                    gets(name);** **                    int index;** **                    for(int i=0;i&lt;num;++i){** **                        if(!strcmp(S[i].s,name))** **                            index=i;** **                    }** **                    for(int i=index;i&lt;num;++i){** **                        printf(“%s”,S[i].contain);** **                        if(S[i].has_end) break;** **                    }** **                    printf(“\\n”);** **                }** **            }** **        }** **    return 0;** <strong>}</strong></p>\n</blockquote>\n","text":"【类型】 模拟,感受一下什么叫绝望吧… 【Tip】 Fk!…..QNMD鲁棒性….QAQ** 后记…发现自己的代码可以过…但是忘了关freopean..所以才WA…尴尬//= // =// 【Code】 鲁棒形比我好,一点的,代码.#include&lt;bits/stdc++.","link":"","raw":null,"photos":[],"categories":[{"name":"Sdut","slug":"Sdut","count":11,"path":"api/categories/Sdut.json"},{"name":"模拟","slug":"Sdut/模拟","count":1,"path":"api/categories/Sdut/模拟.json"},{"name":"第七届ACM山东省赛","slug":"Sdut/模拟/第七届ACM山东省赛","count":1,"path":"api/categories/Sdut/模拟/第七届ACM山东省赛.json"}],"tags":[{"name":"模拟","slug":"模拟","count":9,"path":"api/tags/模拟.json"},{"name":"sdut","slug":"sdut","count":11,"path":"api/tags/sdut.json"},{"name":"第七届ACM山东省赛","slug":"第七届ACM山东省赛","count":4,"path":"api/tags/第七届ACM山东省赛.json"}]}]}