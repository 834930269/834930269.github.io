{"name":"二分搜索","slug":"HDU/二分搜索","count":1,"postlist":[{"title":"HDU 1431","slug":"hdu-1431","date":"2018-02-06T14:37:53.000Z","updated":"2019-07-03T13:51:36.861Z","comments":true,"path":"api/articles/hdu-1431.json","excerpt":"","keywords":null,"cover":null,"content":"<h1 id=\"Link\"><a href=\"#Link\" class=\"headerlink\" title=\"Link\"></a>Link</h1><p><a href=\"http://acm.hdu.edu.cn/showproblem.php?pid=1431\" target=\"_blank\" rel=\"noopener\">http://acm.hdu.edu.cn/showproblem.php?pid=1431</a></p>\n<h1 id=\"type-二分-线性素数筛\"><a href=\"#type-二分-线性素数筛\" class=\"headerlink\" title=\"type: 二分,线性素数筛\"></a>type: 二分,线性素数筛</h1><h1 id=\"题意\"><a href=\"#题意\" class=\"headerlink\" title=\"题意\"></a>题意</h1><blockquote>\n<p>题目很清楚,求a到b之间的回文素数,打印出来. 注意题目给的a,b范围为10000000,所以不能用朴素艾筛.</p>\n</blockquote>\n<h1 id=\"题解\"><a href=\"#题解\" class=\"headerlink\" title=\"题解\"></a>题解</h1><blockquote>\n<p>先用线筛打1000W的表,然后二分查找a的下标,暴力a到b内素数是否是回文数即可.</p>\n</blockquote>\n<h1 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code\"></a>Code</h1><pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxn=10000000+10;\nint a,b,tot=0;\n\nbool valid[maxn];\nint prime[maxn];\nvoid init(int n,int ans[maxn]){\n    memset(valid,true,sizeof(valid));\n    for(int i=2;i&lt;=n;++i){\n        if(valid[i]){\n            tot++;\n            ans[tot]=i;\n        }\n        for(int j=1;((j&lt;=tot) &amp;&amp; (i*ans[j]&lt;=n));++j){\n            valid[i*ans[j]]=false;\n            if(i%ans[j]==0) break;\n        }\n    }\n}\n\nint query(int len,int key){\n    int left=1;\n    int right=len;\n    int mid;\n    while(left&lt;=right){\n        mid=(left+right)&gt;&gt;1;\n        if(key&lt;prime[mid]){\n            right=mid-1;\n        }else if(key&gt;prime[mid]){\n            left=mid+1;\n        }else return mid;\n    }\n    return -1;\n}\n\nbool check(int n){\n    if((n/10)==0) return true;\n    int str[20];\n    int len=0,l=n;\n    for(;l&gt;0;){\n        ++len;\n        str[len]=l%10;\n        l/=10;\n    }\n    for(int i=1;i&lt;=len;++i){\n        if(str[i]!=str[len-i+1]) return false;\n    }\n    return true;\n}\n\nint main(){\n    init(10000000,prime);\n    while(~scanf(&quot;%d %d&quot;,&amp;a,&amp;b)){\n        int id=query(tot,a);\n        for(int i=id;prime[i]&lt;=b &amp;&amp; prime[i];++i){\n            if(check(prime[i])){\n                printf(&quot;%d\\n&quot;,prime[i]);\n            }\n        }\n        printf(&quot;\\n&quot;);\n    }\n    return 0;\n}</code></pre>","text":"Linkhttp://acm.hdu.edu.cn/showproblem.php?pid=1431type: 二分,线性素数筛题意题目很清楚,求a到b之间的回文素数,打印出来. 注意题目给的a,b范围为10000000,所以不能用朴素艾筛.题解先用线筛打1000W的表,然后二分","link":"","raw":null,"photos":[],"categories":[{"name":"HDU","slug":"HDU","count":12,"path":"api/categories/HDU.json"},{"name":"二分搜索","slug":"HDU/二分搜索","count":1,"path":"api/categories/HDU/二分搜索.json"},{"name":"数论","slug":"HDU/二分搜索/数论","count":1,"path":"api/categories/HDU/二分搜索/数论.json"},{"name":"线性素数筛法","slug":"HDU/二分搜索/数论/线性素数筛法","count":1,"path":"api/categories/HDU/二分搜索/数论/线性素数筛法.json"}],"tags":[{"name":"数论","slug":"数论","count":28,"path":"api/tags/数论.json"},{"name":"二分搜索","slug":"二分搜索","count":3,"path":"api/tags/二分搜索.json"},{"name":"HDU","slug":"HDU","count":14,"path":"api/tags/HDU.json"}]}]}