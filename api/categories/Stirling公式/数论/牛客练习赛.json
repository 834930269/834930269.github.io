{"name":"牛客练习赛","slug":"Stirling公式/数论/牛客练习赛","count":1,"postlist":[{"title":"2018全国多校算法寒假练习赛(三) A","slug":"2018qgs-a","date":"2018-02-08T10:09:44.000Z","updated":"2019-07-03T13:51:36.861Z","comments":true,"path":"api/articles/2018qgs-a.json","excerpt":"","keywords":null,"cover":"http://be-sunshine.cn/wp-content/uploads/2018/02/1169018-20180203122824531-2079198459.png","content":"<h1><span id=\"link\">Link</span></h1><p><a href=\"https://www.nowcoder.net/acm/contest/75/A\" title=\"https://www.nowcoder.net/acm/contest/75/A\" target=\"_blank\" rel=\"noopener\">https://www.nowcoder.net/acm/contest/75/A</a></p>\n<h1><span id=\"type-数论-stirling公式\">Type: 数论-Stirling公式</span></h1><h1><span id=\"题意\">题意</span></h1><blockquote>\n<p>给你一个n,问你n!的八进制位数是多少.</p>\n</blockquote>\n<h1><span id=\"数据范围\">数据范围</span></h1><blockquote>\n<p>有t(1<del>1000000)组数据 每组数据大小为 0</del>1000000</p>\n</blockquote>\n<h1><span id=\"题解\">题解</span></h1><blockquote>\n<p>由以上数据范围我们知道不能乱搞(暴力或者打表都会爆)了. 这里提第一个点:</p>\n<blockquote>\n<p>求数M的K进制位数,答案就是</p>\n<blockquote>\n<p>logK(M)+1</p>\n</blockquote>\n</blockquote>\n<p>第二点:</p>\n<blockquote>\n<p>n! 近似公式 - Stirling公式 <a href=\"http://be-sunshine.cn/wp-content/uploads/2018/02/1169018-20180203122824531-2079198459.png\" target=\"_blank\" rel=\"noopener\"><img src=\"http://be-sunshine.cn/wp-content/uploads/2018/02/1169018-20180203122824531-2079198459.png\" alt></a></p>\n</blockquote>\n<p>结合这两点不难得出下列公式:</p>\n<blockquote>\n<p>log8(n!) = M =log8(sqrt(2*pi*n))+log8((n/e)^n) =log8(sqrt(2*pi*n))+log8((n/e)^n) =log8(sqrt(2*pi*n))+n*log8(n/e) =ln(sqrt(2*pi*n))/ln(8)+n*ln(n/e)/ln(8)</p>\n</blockquote>\n<p>常数时间就可以求出来了.</p>\n</blockquote>\n<h1><span id=\"code\">Code</span></h1><pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n//M_PI,M_E\nint main(){\n    int t,n;\n    cin&gt;&gt;t;\n    for(int i=0;i&lt;t;++i){\n        scanf(&quot;%d&quot;,&amp;n);\n        if(n==0){\n            printf(&quot;1\\n&quot;);\n            continue;\n        }\n        double ans=log(sqrt(2*M_PI*n))/log(8)+n*log(n/M_E)/log(8);\n        printf(&quot;%d\\n&quot;,(int)ans+1);\n    }\n    return 0;\n}</code></pre>","text":"Linkhttps://www.nowcoder.net/acm/contest/75/AType: 数论-Stirling公式题意给你一个n,问你n!的八进制位数是多少.数据范围有t(11000000)组数据 每组数据大小为 01000000题解由以上数据范围我们知道不能乱搞(","link":"","raw":null,"photos":[],"categories":[{"name":"Stirling公式","slug":"Stirling公式","count":1,"path":"api/categories/Stirling公式.json"},{"name":"数论","slug":"Stirling公式/数论","count":1,"path":"api/categories/Stirling公式/数论.json"},{"name":"牛客练习赛","slug":"Stirling公式/数论/牛客练习赛","count":1,"path":"api/categories/Stirling公式/数论/牛客练习赛.json"}],"tags":[{"name":"牛客练习赛","slug":"牛客练习赛","count":10,"path":"api/tags/牛客练习赛.json"},{"name":"Stirling公式","slug":"Stirling公式","count":1,"path":"api/tags/Stirling公式.json"},{"name":"数论","slug":"数论","count":28,"path":"api/tags/数论.json"}]}]}