{"name":"模拟退火","slug":"CodeVS/模拟退火","count":1,"postlist":[{"title":"CodeVS 1344","slug":"codevs-1344","date":"2017-08-19T05:04:23.000Z","updated":"2019-07-03T13:51:36.851Z","comments":true,"path":"api/articles/codevs-1344.json","excerpt":"","keywords":null,"cover":null,"content":"<p>类型:概率演算-模拟退火 题目连接::earth_africa:<a href=\"http://www.codevs.cn/problem/1344/\" title=\"CodeVS-1344\" target=\"_blank\" rel=\"noopener\">CodeVS-1344</a> 模拟退火+题解: :earth_asia:<a href=\"https://zhuanlan.zhihu.com/p/23968011\" target=\"_blank\" rel=\"noopener\">https://zhuanlan.zhihu.com/p/23968011</a> github: :earth_asia:<a href=\"https://github.com/834930269/Other_OJ/blob/master/CodeVS/%E6%A8%A1%E6%8B%9F%E9%80%80%E7%81%AB/1344.cpp\" title=\"1344.cpp\" target=\"_blank\" rel=\"noopener\">1344.cpp</a> Code:</p>\n<pre><code>#define F(i,n) for(int i=0;i&lt;n;++i)\n#define Fi(i,n) for(int i=1;i&lt;=n;++i)\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nconst int maxn=21;\nint n;\ndouble x[maxn],y[maxn];\ndouble dist[maxn][maxn];\nstruct Path{\n    int path[maxn];\n    Path(){\n        F(i,n) path[i]=i;\n    }\n    Path(const Path&amp; p){\n        memcpy(path,p.path,sizeof(path));\n        swap(path[rand()%n],path[rand()%n]);\n    }\n    double dist(){\n        double ans=0;\n        for(int i=1;i&lt;n;++i){\n            ///解决重名的办法\n            ans+= ::dist[path[i-1]][path[i]];\n        }\n        return ans;\n    }\n};\n\nbool accept(double delta,double temper){\n    if(delta&lt;=0) return true;\n    return rand()&lt;=exp((-delta)/temper)*RAND_MAX;\n}\n\ndouble solve(){\n    const double max_temper=10000;\n    const double dec=0.999;\n    double temp=max_temper;\n    Path p;\n    while(temp&gt;0.01){\n        Path p2(p);\n        if(accept(p2.dist()-p.dist(),temp)) p=p2;\n        temp*=dec;\n    }\n    return p.dist();\n}\n\nint main(){\n    srand(19260817U);\n    cin&gt;&gt;n;\n    for(int i=0;i&lt;n;++i){\n        scanf(&quot;%lf%lf&quot;,x+i,y+i);\n    }\n    for(int i=0;i&lt;n;++i){\n        dist[i][i]=0;\n        for(int j=i+1;j&lt;n;++j){\n            dist[i][j]=dist[j][i]=hypot(x[i]-x[j],y[i]-y[j]);\n        }\n    }\n    double ans=0x3f3f3f3f;\n    int T=155;\n    while(T--){\n        ans=min(ans,solve());\n    }\n    printf(&quot;%.2lf&quot;,ans);\n    return 0;\n}</code></pre>","text":"类型:概率演算-模拟退火 题目连接::earth_africa:CodeVS-1344 模拟退火+题解: :earth_asia:https://zhuanlan.zhihu.com/p/23968011 github: :earth_asia:1344.cpp Code:#de","link":"","raw":null,"photos":[],"categories":[{"name":"CodeVS","slug":"CodeVS","count":1,"path":"api/categories/CodeVS.json"},{"name":"模拟退火","slug":"CodeVS/模拟退火","count":1,"path":"api/categories/CodeVS/模拟退火.json"}],"tags":[{"name":"CodeVS","slug":"CodeVS","count":1,"path":"api/tags/CodeVS.json"},{"name":"模拟退火","slug":"模拟退火","count":1,"path":"api/tags/模拟退火.json"}]}]}