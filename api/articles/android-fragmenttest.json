{"title":"Android 学习 碎片的生命周期","slug":"android-fragmenttest","date":"2017-03-21T11:52:08.000Z","updated":"2019-07-03T13:51:36.846Z","comments":true,"path":"api/articles/android-fragmenttest.json","photos":[],"link":"","excerpt":null,"covers":["http://be-sunshine.cn/wp-content/uploads/2017/03/20151112223048360.png"],"content":"<p><strong>【reference】</strong> <strong>《第一行代码-第二版》 GuoLin</strong> <strong>【Prior knowledge/先备知识】</strong> <strong>BaiDu or Google it…= =</strong>   <strong>【碎片的状态和回调】</strong> <strong>1.每个活动在其生命周期内可能会有四种状态.</strong> <strong>-运行状态</strong> <strong>-暂停状态</strong> <strong>-停止状态</strong> <strong>-销毁状态</strong> <strong>类似的,碎片也可能会经历这几种状态,不过会有一些细小的地方的部分区别.</strong> <strong>2.运行状态</strong> <strong>当一个碎片是可见的,并且他所关联的活动正处于运行状态时,该碎片也处于运行状态.</strong> <strong>3.暂停状态</strong> <strong>当一个活动进入暂停状态时(由于另一个未占满屏幕的活动被添加到了栈顶),与他相关联的可见碎片就会进入到暂停状态.</strong> <strong>4.停止状态</strong> <strong>当一个活动进入停止状态时,与他相关联的碎片就会进入到停止状态,或者通过调用FragmentTrasaction的remove(),replace()方法把碎片从活动移除,但如果在事务提交之前调用addToBackStack()方法,这时的碎片也会进入到停止状态。总的来说，进入停止状态的碎片对用户来说是完全不可见的,有可能会被系统回收.</strong> <strong>5.销毁状态</strong> <strong>碎片总是依附于活动而存在的,因此当活动被销毁时,与他相关联的碎片也就会进入到销毁态.</strong> <strong>或者通过调用FragmentTransaction 的remove()、replace()方法将碎片从活动中移除，</strong> <strong>但在事务提交之前并没有调用addToBackStack()方法，这时的碎片也会进入到销毁状态。</strong>   <strong>Fragment提供的附加回调方法:</strong> <strong>①onAttach() 当碎片和活动建立关联的时候调用。</strong> <strong>②onCreateView() 为碎片创建视图（加载布局）时调用。</strong> <strong>③ onActivityCreated() 确保与碎片相关联的活动一定已经创建完毕的时候调用。</strong> <strong>④onDestroyView() 当与碎片关联的视图被移除的时候调用。</strong> <strong>⑤onDetach() 当碎片和活动解除关联的时候调用。</strong>   <strong>【碎片的完整生命周期】</strong>   <img src=\"http://be-sunshine.cn/wp-content/uploads/2017/03/20151112223048360.png\" alt>   <strong>附上github源码(这一篇的project是FragmentTest):  <a href=\"https://github.com/834930269/Android_study\" target=\"_blank\" rel=\"noopener\">clone这个项目</a></strong></p>\n","categories":[{"name":"Android","slug":"Android","count":5,"path":"api/categories/Android.json"}],"tags":[{"name":"Android","slug":"Android","count":5,"path":"api/tags/Android.json"}]}