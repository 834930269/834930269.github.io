{"title":"Python Flask 番外 1 可以随鼠标移动的背景图片","slug":"python-flask-1-onmouse","date":"2017-10-18T13:32:57.000Z","updated":"2019-07-03T13:51:36.858Z","comments":true,"path":"api/articles/python-flask-1-onmouse.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<p>通过和大佬的交流学会了一点黑科技… <code>1.</code>因为<code>body的高度</code>和内容挂钩的,所以<code>鼠标可以到达</code>的body区域只有body的高度而已,如果<code>内容高度</code>没填满整个屏幕的话,就会出现下面有一部分无法响应鼠标移动事件,自然无法更新背景图片的<code>position</code>. 然后一个老司机告诉我:想要<code>简单粗暴一点</code>.可以用(<code>css3</code>):</p>\n<pre><code>height:100vh</code></pre><p>卧槽… <code>2.</code>响应函数:</p>\n<pre><code>// 一个小小的视觉效果\n$(&apos;body&apos;).on(&apos;mousemove&apos;, (evt) =&gt; {\n  $(&apos;body&apos;)\n    .css(&apos;background-position-x&apos;, Math.ceil(evt.pageX / 40))\n    .css(&apos;background-position-y&apos;, Math.ceil(evt.pageY / 40));\n});\nwindow.ondeviceorientation = (evt) =&gt; {\n  $(&apos;body&apos;)\n    .css(&apos;background-position-x&apos;, evt.gamma)\n    .css(&apos;background-position-y&apos;, evt.beta);\n};</code></pre>","categories":[{"name":"Flask","slug":"Flask","count":18,"path":"api/categories/Flask.json"},{"name":"Python","slug":"Flask/Python","count":16,"path":"api/categories/Flask/Python.json"}],"tags":[{"name":"Flask","slug":"Flask","count":20,"path":"api/tags/Flask.json"},{"name":"Python","slug":"Python","count":65,"path":"api/tags/Python.json"}]}