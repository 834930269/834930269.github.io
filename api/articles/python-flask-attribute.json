{"title":"Python Flask 富文本添加支持格式的以及Attributes的方法","slug":"python-flask-attribute","date":"2017-10-20T14:49:40.000Z","updated":"2019-07-03T13:51:36.858Z","comments":true,"path":"api/articles/python-flask-attribute.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<p>通过设置<code>attributes</code>和<code>tags</code>如:</p>\n<pre><code>#将Markdown转换为HTML\n@staticmethod\ndef on_change_body(target,value,oldvalue,initiator):\n    attrs = {\n        &apos;*&apos;: [&apos;class&apos;,&apos;style&apos;,&apos;width&apos;,&apos;height&apos;],\n        &apos;a&apos;: [&apos;href&apos;, &apos;rel&apos;],\n         &apos;img&apos;: [&apos;src&apos;, &apos;alt&apos;],\n    }\n    #允许的标签类型\n    allowed_tags = [&apos;a&apos;,&apos;abbr&apos;,&apos;acronym&apos;,&apos;b&apos;,&apos;blockquote&apos;,&apos;code&apos;,\n                    &apos;em&apos;,&apos;i&apos;,&apos;li&apos;,&apos;ol&apos;,&apos;pre&apos;,&apos;strong&apos;,&apos;ul&apos;,\n                    &apos;h1&apos;,&apos;h2&apos;,&apos;h3&apos;,&apos;p&apos;,&apos;img&apos;]\n    target.body_html = bleach.linkify(bleach.clean(\n        markdown(value,output_format=&apos;html&apos;),\n        tags=allowed_tags, attributes=attrs,strip=True))</code></pre><p>最近先把这个博客做好… 之后再看情况写部分重点= =. 最近眼有点难受.</p>\n","categories":[{"name":"Flask","slug":"Flask","count":18,"path":"api/categories/Flask.json"},{"name":"Python","slug":"Flask/Python","count":16,"path":"api/categories/Flask/Python.json"}],"tags":[{"name":"Flask","slug":"Flask","count":20,"path":"api/tags/Flask.json"},{"name":"Python","slug":"Python","count":65,"path":"api/tags/Python.json"}]}