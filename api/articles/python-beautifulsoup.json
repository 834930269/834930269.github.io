{"title":"Python 爬虫 BeautifulSoup库基本操作","slug":"python-beautifulsoup","date":"2017-08-30T03:53:22.000Z","updated":"2019-07-03T13:51:36.851Z","comments":true,"path":"api/articles/python-beautifulsoup.json","photos":[],"link":"","excerpt":null,"covers":null,"content":"<p>Code:</p>\n<pre><code>import requests\nr=requests.get(&apos;http://python123.io/ws/demo.html&apos;)\n#print(r.text)\ndemo=r.text\nfrom bs4 import BeautifulSoup#后面的是类\nsoup=BeautifulSoup(demo,&apos;html.parser&apos;)#第一个参宿是信息,解释器html.parse\n#print(soup.prettify())\n1#BeautifulSoup库是解析、遍历、维护、&quot;标签树&quot;的功能库.\n#名称 Name 属性 Attributes\n#四种解释器\n&apos;&apos;&apos;\n1.html.parse\n2.lxml\n3.xml\n4.html5lib\n&apos;&apos;&apos;\n#元素\n&apos;&apos;&apos;\n1.Tag 标签&lt;&gt;\n2.Name 标签的名字&lt;p&gt;=p\n3.Attributes 标签的属性 字典形式组织,格式 &lt;tag&gt;.Attributes\n4.NavigableString 标签内费属性字符串 &lt;p&gt;...(中间这部分)...&lt;/p&gt;格式&lt;tag&gt;.string\n5.Comment 标签内字符串注释部分 一种特殊的Commnet类型\n&apos;&apos;&apos;\nprint(soup.title)\nprint(soup.a.name)\nprint(soup.a.parent.parent.name)#父亲的父亲\nprint(soup.a.attrs)\nprint(soup.a.attrs[&apos;class&apos;],type(soup.a.attrs))\nprint(soup.a.string),print(soup.p.string)\n&apos;&apos;&apos;\n标签树的下行遍历\n.contents 子节点的列表,将&lt;tag&gt;所有儿子节点存入列表\n.children 子节点的迭代类型,与.contents类似,用于循环遍历儿子节点\n.descendants 子孙节点的迭代类型,包含所有子孙节点,用于循环遍历\n&apos;&apos;&apos;\nprint(soup.head)\nprint(soup.head.contents)\nprint(soup.body.contents,&apos;\\n&apos;),print(&apos;len: &apos;,len(soup.body.contents))\n&apos;&apos;&apos;\n上行遍历\n.parent 节点的父亲标签\n.parents 返回节点的先辈标签\n&apos;&apos;&apos;\nfor parent in soup.a.parents:\n    if parent is None:\n        print(parent)\n    else:\n        print(parent.name)\n&apos;&apos;&apos;\n平行遍历\n.next_sibling 返回按照HTML文本顺序的下一个平行节点标签\n.previous_sibling 返回按照HTML文本顺序的上一个平行节点标签\n.next_siblings 迭代类型,返回按照HTML文本顺序的后续所有平行节点标签\n.previous_siblings 迭代类型,返回按照HTML文本顺序的前序所有平行结点标签\n&apos;&apos;&apos;</code></pre>","categories":[{"name":"Python","slug":"Python","count":41,"path":"api/categories/Python.json"}],"tags":[{"name":"Python","slug":"Python","count":65,"path":"api/tags/Python.json"}]}